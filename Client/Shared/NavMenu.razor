@using Respect.Client.Authentication
@inject AuthManager AuthManager

<style>
    .mud-nav-link:hover:not(.mud-nav-link-disabled){
    background-color: white !important;
    }
</style>

<MudNavMenu Color="Color.Warning">
    <MudNavLink Match="NavLinkMatch.All" Href="/" Icon="@Icons.Material.Filled.Home" IconColor="@Color.Surface">Homepage</MudNavLink>
    @if (authenticated)
    {
        <MudNavLink Href="/petition/create" Icon="@Icons.Material.Filled.Add" IconColor="@Color.Surface">Create a petition</MudNavLink>
    }
    <MudNavLink Href="/phone" Icon="@Icons.Material.Filled.PhoneIphone" IconColor="@Color.Surface">Your phone</MudNavLink>
</MudNavMenu>

@code
{
    private bool authenticated;

    protected override Task OnInitializedAsync()
    {
        authenticated = AuthManager.IsAuthenticated();
        return base.OnInitializedAsync();
    }

}